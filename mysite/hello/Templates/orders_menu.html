{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mother Julie - Order Menu</title>
    <link href="https://fonts.googleapis.com/css2?family=Sansita:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'orders_menu.css' %}" />
</head>
<body>
    <div id="root">
        <!-- Topbar -->
        <div class="topbar">
            <div class="topbar-left">
                <div class="location">
                    <span class="pin">üìç</span>
                    <span class="loc-text">Manila  </span>
                    <button class="location-search">CHANGE</button>
                </div>
            </div>
            
            <div class="topbar-center">
                <img class="title-logo" src="{% static 'menu.png' %}" alt="All Menu">                
                <h1>ALL MENU</h1>
            </div>
            
            <div class="topbar-right">
                {% if user.is_authenticated %}
                    <div class="user-info">
                        <span class="user-welcome">{{ user.username }}</span>
                        <img src="{% static 'user-icon.png' %}" alt="User Account" class="user-icon">
                        <form method="POST" action="{% url 'logout' %}" class="logout-form">
                            {% csrf_token %}
                            <button type="submit" class="logout-btn">LOGOUT</button>
                        </form>
                    </div>
                {% else %}
                    <a href="{% url 'signin' %}" class="username">
                        Sign In
                        <img src="{% static 'user-icon.png' %}" alt="User Account" class="user-icon">
                    </a>
                {% endif %}
            </div>
        </div>

        <!-- Orders Button -->
        <button class="orders-btn" id="ordersButton">
            Orders <span class="orders-count">0</span>
        </button>

        <!-- App Layout -->
        <div class="app">
            <!-- Sidebar -->
            <aside class="sidebar" aria-label="Main navigation">
            <img class="logo" src="{% static 'motherjulie.png' %}" alt="Mother Julie logo" onclick="redirectToDashboard()"><nav>
                    <ul>
                        <li class="nav-item" data-target="all">
                            <img class="nav-logo" src="{% static 'menu.png' %}" alt="All Menu">
                            <span class="nav-label">All Menu</span>
                        </li>
                        <li class="nav-item" data-target="desserts">
                            <img class="nav-logo" src="{% static 'dessert.png' %}" alt="Desserts">
                            <span class="nav-label">Desserts</span>
                        </li>
                        <li class="nav-item" data-target="spuds">
                            <img class="nav-logo" src="{% static 'spud.png' %}" alt="Spuds">
                            <span class="nav-label">Spuds</span>
                        </li>
                        <li class="nav-item" data-target="pasta">
                            <img class="nav-logo" src="{% static 'pasta.png' %}" alt="Pasta / Bread">
                            <span class="nav-label">Pasta / Bread</span>
                        </li>
                        <li class="nav-item" data-target="wrap">
                            <img class="nav-logo" src="{% static 'wrap.png' %}" alt="Wrap">
                            <span class="nav-label">Wrap</span>
                        </li>
                        <li class="nav-item" data-target="appetizers">
                            <img class="nav-logo" src="{% static 'nachos.png' %}" alt="Appetizers">
                            <span class="nav-label">Appetizers</span>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Main Content -->
            <div class="main">
                <!-- ALL MENU Section -->
                <div class="category active" id="all">                    
                    <!-- DESSERTS Category -->
                    <div class="category-section">
                        <h3 class="category-subtitle">DESSERTS</h3>
                        <div class="menu-grid">
                            <!-- Mais Con Yelo -->
                            <div class="card">
                                <img src="{% static 'mais_conyelo.png' %}" alt="Mais Con Yelo">
                                <div class="card-body">
                                    <h3>Mais Con Yelo</h3>
                                    <div class="availability">Available</div>
                                    <div class="size-select">
                                        <label>
                                            <input type="radio" name="mais-size" value="L"> L
                                        </label>
                                        <label>
                                            <input type="radio" name="mais-size" value="M"> M
                                        </label>
                                    </div>
                                    <div class="price">Php 130 (L) ‚Ä¢ Php 110 (M)</div>
                                </div>
                                <button class="add-to-cart"></button>
                            </div>

                            <!-- Biscoff Classic -->
                            <div class="card">
                                <img src="biscoff-classic.jpg" alt="Biscoff Classic">
                                <div class="card-body">
                                    <h3>Biscoff Classic</h3>
                                    <div class="availability">Available</div>
                                    <div class="size-select">
                                        <label>
                                            <input type="radio" name="biscoff-size" value="L"> L
                                        </label>
                                        <label>
                                            <input type="radio" name="biscoff-size" value="M"> M
                                        </label>
                                    </div>
                                    <div class="price">Php 200 (L) ‚Ä¢ Php 175 (M)</div>
                                </div>
                                <button class="add-to-cart"></button>
                            </div>

                            <!-- Buko Pandan -->
                            <div class="card">
                                <img src="buko-pandan.jpg" alt="Buko Pandan">
                                <div class="card-body">
                                    <h3>Buko Pandan</h3>
                                    <div class="availability">Available</div>
                                    <div class="size-select">
                                        <label>
                                            <input type="radio" name="buko-size" value="L"> L
                                        </label>
                                        <label>
                                            <input type="radio" name="buko-size" value="M"> M
                                        </label>
                                    </div>
                                    <div class="price">Php 120 (L) ‚Ä¢ Php 100 (M)</div>
                                </div>
                                <button class="add-to-cart"></button>
                            </div>
                        </div>
                    </div>

                    <!-- SPUDS Category -->
                    <div class="category-section">
                        <h3 class="category-subtitle">SPUDS</h3>
                        <div class="menu-grid">
                            <!-- Cheesy Bacon -->
                            <div class="card">
                                <img src="cheesy-bacon.jpg" alt="Cheesy Bacon">
                                <div class="card-body">
                                    <h3>Cheesy Bacon</h3>
                                    <div class="availability">Available</div>
                                    <div class="price">Php 159</div>
                                </div>
                                <button class="add-to-cart"></button>
                            </div>

                            <!-- Chili Con Carne -->
                            <div class="card">
                                <img src="chili-con-carne.jpg" alt="Chili Con Carne">
                                <div class="card-body">
                                    <h3>Chili Con Carne</h3>
                                    <div class="availability">Available</div>
                                    <div class="price">Php 179</div>
                                </div>
                                <button class="add-to-cart"></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Individual Category Sections -->
                <div class="category" id="desserts">
                    <h2 class="section-title">DESSERTS</h2>
                    <div class="menu-grid">
                        <!-- Dessert items will be populated here -->
                    </div>
                </div>

                <div class="category" id="spuds">
                    <h2 class="section-title">SPUDS</h2>
                    <div class="menu-grid">
                        <!-- Spud items will be populated here -->
                    </div>
                </div>

                <div class="category" id="pasta">
                    <h2 class="section-title">PASTA / BREAD</h2>
                    <div class="menu-grid">
                        <!-- Pasta items will be populated here -->
                    </div>
                </div>

                <div class="category" id="wrap">
                    <h2 class="section-title">WRAP</h2>
                    <div class="menu-grid">
                        <!-- Wrap items will be populated here -->
                    </div>
                </div>

                <div class="category" id="appetizers">
                    <h2 class="section-title">APPETIZERS</h2>
                    <div class="menu-grid">
                        <!-- Appetizer items will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Modal -->
        <div class="location-modal" id="locationModal">
            <div class="modal-content">
                <div class="modal-header">
                    <div>
                        <h3>Set Your Location</h3>
                        <div class="modal-subtitle">Philippines Only</div>
                    </div>
                    <button class="modal-close" id="modalClose">&times;</button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="locationInput" placeholder="Search cities in Philippines...">
                    <button class="search-btn" id="searchBtn">Search</button>
                </div>
                
                <div class="suggestions" id="suggestions"></div>
                
                <div class="current-location">
                    <button class="current-location-btn" id="currentLocationBtn">
                        üìç Use Current Location
                    </button>
                    <div class="location-error" id="locationError">
                        Location outside Philippines. Please search for Philippine locations only.
                    </div>
                </div>
            </div>
        </div>

        <!-- Billing Panel -->
        <div class="billing-panel" id="billingPanel">
            <div class="billing-header">
                <h2>Your Order</h2>
                <button class="billing-close" id="billingClose">‚úï</button>
            </div>
            
            <div class="billing-items" id="billingItems">
                <!-- Order items will appear here -->
                <div class="empty-cart-message">
                    <div class="empty-icon">üõí</div>
                    <p>Your cart is empty</p>
                    <small>Add some delicious items to get started!</small>
                </div>
            </div>
            
            <div class="billing-summary">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span class="subtotal">Php 0.00</span>
                </div>
                <div class="summary-row delivery-fee-row" style="display: none;">
                    <span>Delivery Fee:</span>
                    <span class="delivery-charge">Php 50.00</span>
                </div>
                <div class="summary-row total-row">
                    <span>Total:</span>
                    <span class="total">Php 0.00</span>
                </div>
            </div>
            
            <div class="order-type">
                <button class="order-btn active">Dine-in</button>
                <button class="order-btn">Pickup</button>
                <button class="order-btn">Delivery</button>
            </div>
            
            <button class="process-order">Place Order</button>
        </div>
    </div>

<script>
    // Define static URLs for JavaScript
    const STATIC_URLS = {
        menu: "{% static 'menu.png' %}",
        dessert: "{% static 'dessert.png' %}",
        spud: "{% static 'spud.png' %}",
        pasta: "{% static 'pasta.png' %}",
        wrap: "{% static 'wrap.png' %}",
        nachos: "{% static 'nachos.png' %}"
    };
</script>

    <script src="{% static 'orders_menu.js' %}"></script>
</body>
</html>