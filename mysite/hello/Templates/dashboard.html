{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mother Julie - Dashboard</title>
    <link rel="stylesheet" href="{% static 'dashboard.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sansita:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sansita+One&display=swap" rel="stylesheet">


</head>
<body>
<!-- Messages/Notifications - Toast Style -->
{% if messages %}
<div class="toast-container">
    {% for message in messages %}
    <div class="toast toast-{{ message.tags }}">
        <div class="toast-content">
            <div class="toast-message">
                {{ message }}
            </div>
            <button class="toast-close" onclick="this.parentElement.parentElement.remove()">×</button>
        </div>
        <div class="toast-progress"></div>
    </div>
    {% endfor %}
</div>
{% endif %}
    <header>
        <nav class="container">
            <a href="{% url 'dashboard' %}" class="logo">
                <img src="{% static 'dashboardpics/motherjulie.png' %}" alt="Mother Julie Logo">
            </a>
            <ul>
                <li><a href="#">ABOUT US</a></li>
                <li><a href="{% url 'redirect_to_orders' %}" id="ordersLink">ORDERS</a></li>
                <li><a href="{% url 'orders_menu' %}">OUR MENU</a></li>
            </ul>
            <div class="user-section">
            {% if user.is_authenticated %}
                <div class="user-info">
                    <span class="user-welcome">{{ user.username }}</span>
                    <img src="{% static 'dashboardpics/user-icon.png' %}" alt="User Account" class="user-icon">
                    <form method="POST" action="{% url 'logout' %}" class="logout-form">
                        {% csrf_token %}
                        <button type="submit" class="logout-btn">LOGOUT</button>
                    </form>
                </div>
            {% else %}
                <a href="{% url 'signin' %}" class="username">
                    Sign In
                    <img src="{% static 'dashboardpics/user-icon.png' %}" alt="User Account" class="user-icon">
                </a>
            {% endif %}
        </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container hero-content">
                <div class="hero-illustration">
                    <img src="{% static 'dashboardpics/coffee-cup.png' %}" alt="Coffee Cup">
                </div>
                <div class="hero-text">
                    <h1>Mabuhay, Food Lovers!</h1>
                    <p>A bunch of home-made recipes — from Filipino desserts to comforting dishes. Experience the taste of home in every bite and sip.</p>
                    <a href="{% url 'orders_menu' %}" class="btn-primary">ORDER NOW</a>
                </div>
            </div>
        </section>

        <section class="featured">
            <div class="container">
                <h2>FEATURED ITEMS</h2>
                <div class="items-grid">
                    <div class="item-card">
                        <img src="{% static 'dashboardpics/avocado_moto.png' %}" alt="Avocado Moto Drink">
                        
                    </div>

                    <div class="item-card">
                        <img src="{% static 'dashboardpics/mais_conyelo.png' %}" alt="Mais Con Yelo Drink">
                        <div class="card-overlay-text mais-title">
                        </div>
                    </div>

                    <div class="item-card">
                        <img src="{% static 'dashboardpics/biscoff.png' %}" alt="Biscoff Drink">
                    </div>

                    <div class="item-card">
                        <img src="{% static 'dashboardpics/best_sellers.png' %}" alt="Best Sellers of the Week">
                    </div>

                </div>
            </div>
        </section>

    
    <section class="ABOUT US"></section>
    </main>

    <!-- Footer with Navigation -->
    <footer>
    <div class="footer-container">
        <nav class="footer-nav">
            <ul>
                <li class="contact-item">
                    <img src="{% static 'dashboardpics/mapsicon.png' %}" alt="Maps" width="20" height="20">
                    <a href="https://maps.app.goo.gl/JipXk6gC6BM9dFnDA">Mother Julie</a>
                </li>
                <li class="contact-item">
                    <img src="{% static 'dashboardpics/gmailicon.png' %}" alt="Gmail" width="20" height="20">
                    <span></span>
                    <a href="mailto:contact.motherjulie@gmail.com">contact.motherjulie@gmail.com</a>
                </li>
            </ul>
        </nav>
        <div class="footer-social">
            <span>Follow us on:</span>
            <a href="https://www.facebook.com/motherjulie.products" class="social-icon" target="_blank">
            <img src="{% static 'dashboardpics/fbicon.png' %}" alt="Gmail" width="20" height="20">
            <span class="separator">|</span>
            <a href="https://www.instagram.com/mother.julie?utm_source=ig_web_button_share_sheet&igsh=MXYzcDBibmRid3d0bg==" class="social-icon" target="_blank">
                <img src="{% static 'dashboardpics/igicon.png' %}" alt="Instagram" width="20" height="20">
            </a>
        </div>
    </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const ordersLink = document.getElementById('ordersLink');
    
    if (ordersLink) {
        ordersLink.addEventListener('click', function(e) {
            e.preventDefault();
            // Always let the server handle the redirection logic
            window.location.href = "{% url 'redirect_to_orders' %}";
        });
    }
});


// Auto-remove toasts after they slide out
document.addEventListener('DOMContentLoaded', function() {
    const toasts = document.querySelectorAll('.toast');
    toasts.forEach(toast => {
        // Remove element after animation completes
        setTimeout(() => {
            if (toast.parentNode) {
                toast.remove();
            }
        }, 5300); // 5s progress + 0.3s slide out
    });
});

// Manual close function
function closeToast(toastElement) {
    toastElement.style.animation = 'toastSlideOut 0.3s ease-in forwards';
    setTimeout(() => {
        if (toastElement.parentNode) {
            toastElement.remove();
        }
    }, 300);
}
</script>


</body>
</html>
