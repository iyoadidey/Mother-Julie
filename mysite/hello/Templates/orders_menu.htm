{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Mother Julie - All Menu</title>
  <link rel="stylesheet" href="{% static 'orders_menu.css' %}" />
</head>
<body>
  <!-- Top Navigation -->
  <header class="topbar">
    <div class="topbar-left">
      <!-- Replace src with your logo path if you have one -->
      <img class="logo" src="https://via.placeholder.com/82x44?text=Logo" alt="Mother Julie logo">
      <div class="location">
        <svg class="pin" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
          <path fill="currentColor" d="M12 2C8.1 2 5 5.1 5 9c0 5.2 7 13 7 13s7-7.8 7-13c0-3.9-3.1-7-7-7zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5z"/>
        </svg>
        <span class="loc-text">CURRENT LOCATION...</span>
      </div>
    </div>

    <div class="topbar-center">
      <h1>ALL MENU</h1>
    </div>

    <div class="topbar-right">
      <div class="username">
        <span>Username</span>
        <div class="profile-pic" aria-hidden="true">üë§</div>
      </div>

      <button id="ordersBtn" class="orders-btn" aria-controls="billing" aria-expanded="false">
        Orders <span class="orders-count">5</span>
      </button>
    </div>
  </header>

  <div class="app">
    <!-- Left Sidebar (vertical) -->
    <aside class="sidebar" aria-label="Main navigation">
      <nav>
        <ul>
          <li class="nav-item" data-target="all" onclick="showCategory('all')">
            <span class="nav-ico">üìã</span>
            <span class="nav-label">All Menu</span>
          </li>
          <li class="nav-item" data-target="desserts" onclick="showCategory('desserts')">
            <span class="nav-ico">üç®</span>
            <span class="nav-label">Desserts</span>
          </li>
          <li class="nav-item" data-target="spuds" onclick="showCategory('spuds')">
            <span class="nav-ico">üçü</span>
            <span class="nav-label">Spuds</span>
          </li>
          <li class="nav-item" data-target="pasta" onclick="showCategory('pasta')">
            <span class="nav-ico">üçû</span>
            <span class="nav-label">Pasta / Bread</span>
          </li>
          <li class="nav-item" data-target="wrap" onclick="showCategory('wrap')">
            <span class="nav-ico">üåØ</span>
            <span class="nav-label">Wrap</span>
          </li>
          <li class="nav-item" data-target="appetizers" onclick="showCategory('appetizers')">
            <span class="nav-ico">üç§</span>
            <span class="nav-label">Appetizers</span>
          </li>
        </ul>
      </nav>

      <button class="billing-toggle" id="sidebarBillingToggle" aria-controls="billing" aria-expanded="false">
        üßæ Billing
      </button>
    </aside>

    <!-- Main content -->
    <main class="main">
      <!-- Search & heading are handled by the topbar title; add optional search -->
      <section class="menu-area">
        <!-- All categories visible for "all" -->
        <div id="all" class="category active">
          <h2 class="section-title">ALL MENU</h2>
          <div class="menu-grid">
            <!-- Examples - replace images/prices with your assets -->
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Mais Con Yelo">
              <div class="card-body">
                <h3>Mais Con Yelo</h3>
                <div class="price">Php 104 <small>(S)</small></div>
                <div class="availability">Available</div>
              </div>
            </article>

            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Biscoff Classic">
              <div class="card-body">
                <h3>Biscoff Classic</h3>
                <div class="price">Php 200 <small>(L)</small></div>
                <div class="availability">Available</div>
              </div>
            </article>

            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Buko Pandan">
              <div class="card-body">
                <h3>Buko Pandan</h3>
                <div class="price">Php 120</div>
                <div class="availability">Available</div>
              </div>
            </article>

            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Coffee Jelly">
              <div class="card-body">
                <h3>Coffee Jelly</h3>
                <div class="price">Php 240 <small>(L)</small></div>
                <div class="availability">Available</div>
              </div>
            </article>

            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Cheesy Bacon">
              <div class="card-body">
                <h3>Cheesy Bacon</h3>
                <div class="price">Php 159</div>
                <div class="availability">Available</div>
              </div>
            </article>

            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Nachos">
              <div class="card-body">
                <h3>Nachos</h3>
                <div class="price">Php 129</div>
                <div class="availability">Available</div>
              </div>
            </article>
          </div>
        </div>

        <!-- Desserts only -->
        <div id="desserts" class="category">
          <h2 class="section-title">DESSERTS</h2>
          <div class="menu-grid">
            <!-- copy or narrow down cards -->
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Mais Con Yelo">
              <div class="card-body"><h3>Mais Con Yelo</h3><div class="price">Php 104</div></div>
            </article>
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Biscoff">
              <div class="card-body"><h3>Biscoff Classic</h3><div class="price">Php 200</div></div>
            </article>
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Buko Pandan">
              <div class="card-body"><h3>Buko Pandan</h3><div class="price">Php 120</div></div>
            </article>
          </div>
        </div>

        <!-- Spuds -->
        <div id="spuds" class="category">
          <h2 class="section-title">SPUDS</h2>
          <div class="menu-grid">
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Cheesy Bacon">
              <div class="card-body"><h3>Cheesy Bacon</h3><div class="price">Php 159</div></div>
            </article>
            <article class="card">
              <img src="https://via.placeholder.com/320x220" alt="Chili Con Carne">
              <div class="card-body"><h3>Chili Con Carne</h3><div class="price">Php 179</div></div>
            </article>
          </div>
        </div>

        <!-- Pasta/Bread -->
        <div id="pasta" class="category">
          <h2 class="section-title">PASTA / BREAD</h2>
          <div class="menu-grid">
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Garlic Bread"><div class="card-body"><h3>Garlic Bread</h3><div class="price">Php 69</div></div></article>
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Pesto Bread"><div class="card-body"><h3>Pesto and Bread</h3><div class="price">Php 139</div></div></article>
          </div>
        </div>

        <!-- Wrap -->
        <div id="wrap" class="category">
          <h2 class="section-title">WRAP</h2>
          <div class="menu-grid">
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Honagr Chicken"><div class="card-body"><h3>Hongar Chicken</h3><div class="price">Php 179</div></div></article>
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Beef Nacho"><div class="card-body"><h3>Beef Nacho</h3><div class="price">Php 169</div></div></article>
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Kesodilla"><div class="card-body"><h3>Kesodilla</h3><div class="price">Php 99</div></div></article>
          </div>
        </div>

        <!-- Appetizers -->
        <div id="appetizers" class="category">
          <h2 class="section-title">APPETIZERS</h2>
          <div class="menu-grid">
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Nachos"><div class="card-body"><h3>Nachos</h3><div class="price">Php 129</div></div></article>
            <article class="card"><img src="https://via.placeholder.com/320x220" alt="Chicken Poppers"><div class="card-body"><h3>Chicken Poppers & Fries</h3><div class="price">Php 139</div></div></article>
          </div>
        </div>
      </section>
    </main>

    <!-- Billing panel (slide-out) -->
    <aside id="billing" class="billing-panel" aria-hidden="true">
      <div class="billing-header">
        <h2>BILLING</h2>
        <button class="billing-close" id="billingClose" aria-label="Close billing">‚úï</button>
      </div>

      <div class="billing-items">
        <div class="b-item">
          <img src="https://via.placeholder.com/64" alt="" aria-hidden="true">
          <div class="b-desc">
            <div class="b-title">Coffee Jelly (L)</div>
            <div class="b-meta">Dessert</div>
          </div>
          <div class="b-price">Php 240.00</div>
        </div>

        <div class="b-item">
          <img src="https://via.placeholder.com/64" alt="" aria-hidden="true">
          <div class="b-desc">
            <div class="b-title">Kesodilla</div>
            <div class="b-meta">Wrap</div>
          </div>
          <div class="b-price">Php 99.00</div>
        </div>

        <div class="b-item">
          <img src="https://via.placeholder.com/64" alt="" aria-hidden="true">
          <div class="b-desc">
            <div class="b-title">Cheesy Bacon</div>
            <div class="b-meta">Spuds</div>
          </div>
          <div class="b-price">Php 159.00</div>
        </div>

        <div class="b-item">
          <img src="https://via.placeholder.com/64" alt="" aria-hidden="true">
          <div class="b-desc">
            <div class="b-title">Chicken poppers & Fries</div>
            <div class="b-meta">Appetizers</div>
          </div>
          <div class="b-price">Php 139.00</div>
        </div>
      </div>

      <div class="billing-summary">
        <div>Items: <strong>4</strong></div>
        <div>Subtotal: <strong>Php 637.00</strong></div>
        <div>Delivery Fee: <strong>Php 50.00</strong></div>
        <div class="total">TOTAL: <strong>Php 687.00</strong></div>
      </div>

      <div class="billing-actions">
        <div class="order-type">
          <button>Delivery</button>
          <button>Pick up</button>
        </div>

        <div class="payment-methods">
          <button>Cash</button>
          <button>GCash</button>
        </div>

        <button class="process">Process Transaction</button>
      </div>
    </aside>
  </div>

  <script>
    // Category switching
    function showCategory(id) {
      // if id === 'all' show the "all" container (and optionally others) - here we'll show only the 'all' container as grouping
      const categories = document.querySelectorAll('.category');
      categories.forEach(c => c.classList.remove('active'));
      const el = document.getElementById(id);
      if (el) {
        el.classList.add('active');
      } else {
        // fallback: show all if element not found
        document.getElementById('all').classList.add('active');
      }
    }

    // Billing toggle from Orders button and sidebar button
    const billingEl = document.getElementById('billing');
    const ordersBtn = document.getElementById('ordersBtn');
    const sidebarBillingToggle = document.getElementById('sidebarBillingToggle');
    const billingClose = document.getElementById('billingClose');

    function setBillingOpen(open) {
      if (open) {
        billingEl.classList.add('open');
        billingEl.setAttribute('aria-hidden', 'false');
        ordersBtn.setAttribute('aria-expanded', 'true');
        sidebarBillingToggle.setAttribute('aria-expanded', 'true');
      } else {
        billingEl.classList.remove('open');
        billingEl.setAttribute('aria-hidden', 'true');
        ordersBtn.setAttribute('aria-expanded', 'false');
        sidebarBillingToggle.setAttribute('aria-expanded', 'false');
      }
    }

    function toggleBilling() { setBillingOpen(!billingEl.classList.contains('open')); }

    ordersBtn.addEventListener('click', toggleBilling);
    sidebarBillingToggle.addEventListener('click', toggleBilling);
    billingClose.addEventListener('click', () => setBillingOpen(false));

    // close billing on ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') setBillingOpen(false);
    });

    // initial state
    document.addEventListener('DOMContentLoaded', () => {
      // Start with "desserts" active (mirrors earlier code) or 'all'
      showCategory('desserts');
    });
  </script>
</body>
</html>
